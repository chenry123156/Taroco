version: '2'
services:
  taroco-authentication-server:
    build:
      context: ./
      dockerfile: Dockerfile-auth
    restart: always
    volumes:
      - /data/logs/taroco/:/logs/taroco-authentication-server/
    networks:
      taroco:
        aliases:
          - taroco-authentication-server

  taroco-upms:
    build:
      context: ./
      dockerfile: Dockerfile-upms
    restart: always
    volumes:
      - /data/logs/taroco/:/logs/taroco-upms-service/
    networks:
      taroco:
        aliases:
          - taroco-upms

  taroco-gateway:
    build:
      context: ./
      dockerfile: Dockerfile-gateway
    restart: always
    depends_on:
      - taroco-authentication-server
    volumes:
      - /data/logs/taroco/:/logs/taroco-gateway/
    networks:
      taroco:
        aliases:
          - taroco-gateway

networks:
  taroco:
